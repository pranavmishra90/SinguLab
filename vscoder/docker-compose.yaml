####################################
#         Initial Setup            #
####################################

# This docker-compose file is being built from pranavmishra90/data-min
# It is being generated from a base image from jupyter/scipy-notebook

####################################
#         Docker-Compose           #
####################################
version: "3"

####################################
#            Networks              #
####################################
networks:
  # traefik_external:
  #   external:
  #     name: traefik_external
  default:
    driver: bridge

####################################
#            Services              #
####################################

services:
  singulab:
    image: pranavmishra90/singulab-vscoder:nightly
    container_name: SinguLab-VSCoder
    ports:
      - 8888:8888
    volumes:
      - .:/home/coder/work
      - ~/.ssh:/home/coder/.ssh:ro
    # command: micromamba shell init --shell bash --root-prefix=~/micromamba
    # labels:
    #   - "traefik.enable=true"
    #   ## HTTP Routers
    #   - "traefik.http.routers.singulab-rtr.entrypoints=https"
    #   - "traefik.http.routers.singulab-rtr.rule=Host(`singulab.$DOMAINNAME`)"
    #   - "traefik.http.routers.singulab-rtr.tls=true"
    #   ## Middlewares
    #   # - "traefik.http.routers.singulab-rtr.middlewares=chain-no-auth@file" # No Authentication
    #   # - "traefik.http.routers.singulab-rtr.middlewares=chain-basic-auth@file" # Basic Authentication
    #   - "traefik.http.routers.singulab-rtr.middlewares=chain-authelia@file" # Authelia authentication
    #   ## HTTP Services
    #   - "traefik.http.routers.singulab-rtr.service=singulab-svc"
    #   - "traefik.http.services.singulab-svc.loadbalancer.server.port=8888"
